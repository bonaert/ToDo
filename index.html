<!DOCTYPE html>
<html ng-app="myApp" manifest="offline.appcache">
<head>
    <meta charset="utf-8">
    <title>To do list</title>


    <!-- Library CSS files-->
    <link rel="stylesheet" type="text/css" href="css/lib/semantic/packaged/css/semantic.css">

    <link rel="stylesheet" type="text/css" href="css/main.css">


    <!-- Angular JS-->
    <script type="application/javascript" src="js/lib/angular-min.js"></script>

    <script type="application/javascript" src="js/ShowTodoCtrl.js"></script>


</head>
<body>

<div ng-controller="ShowTodoCtrl" style="margin: 0; padding: 0;">

    <!-- Header -->
    <div class="ui inverted red large two item menu">
        <a class="item">
            {{ getCurrentListName(); }}
        </a>
        <a class="item">
            Todos left: {{ getCurrentTodosLength(); }}
        </a>
    </div>

    <!-- Add new todo-->
    <div class="ui form">
        <div class="ui focus action input">
            <input autofocus="true" placeholder="I'd like to ..." ng-model="newTodoText" type="text">

            <div class="ui blue icon button" ng-click="addTodo(newTodoText); newTodoText=''">
                <i class="add icon"></i>
            </div>
        </div>
    </div>


    <!-- Show incomplete todos -->
    <div class="ui huge selection celled list">
        <div class=" item" ng-repeat="todo in currentTodos track by $index">

            <div ng-if="!isTodoBeingEdited(todo)">
                <!-- Icon -->
                <div class="right floated green ui button"
                     ng-click="setCurrentTodoEdited(todo)">
                    <i class="edit icon"></i>
                </div>

                <!-- Text -->
                <div class="content completeTodo" ng-click="setTodoCompleted(todo)">
                    <div class="todoText">
                        {{ todo.text }}
                    </div>
                </div>
            </div>

            <!-- Edit todos -->
            <div class="ui form" ng-if="isTodoBeingEdited(todo);">
                <div class="ui small action input">
                    <input focus="{{isTodoBeingEdited(todo)}}" type="text" ng-model="editedTodoText"
                           style="height:40px !important;"
                           ng-init="editedTodoText = todo.text;">

                    <div class="ui positive icon button"
                         ng-click="changeText(todo, editedTodoText); stoppedEditingTodo();">
                        <i class="check icon"></i>
                    </div>
                </div>


            </div>

        </div>

    </div>


    <!-- Show 10 last completed todos-->
    <!-- Header -->
    <div class="ui inverted red two item menu" ng-show="getCompletedTodosLength() !== 0">
        <a class="item">
            Completed todos
        </a>

        <a class="item" ng-click="clearCompletedTodos();">
            Clear all
        </a>
    </div>

    <div class="ui selection celled list">
        <div class="item" ng-repeat="todo in completedTodos track by $index" ng-click="restoreTodo(todo);">
            <p> {{ todo.text }}</p>
        </div>
    </div>

</div>

</body>
</html>


